phy_prof <- bu_data %>% filter(tDept == dept) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
result <- ggplotly(phy_prof)
return(result)
}
courses <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
View(courses)
courses [[1]]
View(courses)
View(courses)
install.packages("asis")
for (i in names(dept)) {
cat('\n\n### `', i, '`\n\n')
x <- dept[i]
compute_prof(i)
}
compute_prof <- function(dept) {
phy_prof <- bu_data %>% filter(tDept == dept) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
result <- ggplotly(phy_prof)
return(result)
}
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in names(dept)) {
cat('\n\n### `', i, '`\n\n')
x <- dept[i]
compute_prof(i)
}
for (i in names(dept)) {
cat('\n\n### `', i, '`\n\n')
x <- dept[i]
compute_prof(i)
}
for (i in names(dept)) {
x <- dept[i]
cat('\n\n### `', x, '`\n\n')
compute_prof(x)
}
dept
dept[[1]]
dept[1,]
for (i in names(dept)) {
x <- dept[i,]
cat('\n\n### `', x, '`\n\n')
compute_prof(x)
}
for (i in nrow(dept)) {
x <- dept[i,]
cat('\n\n### `', x, '`\n\n')
compute_prof(x)
}
x <- dept[3,]
x
names(x)
for (i in nrow(dept)) {
x <- names(dept[i,])
cat('\n\n### `', x, '`\n\n')
compute_prof(x)
}
for (i in nrow(dept)) {
x <- names(dept[i,])
cat('\n\n### `', x, '`\n\n')
compute_prof(x)
}
nrow(dept)
for (i in 1:nrow(dept)) {
x <- names(dept[i,])
cat('\n\n### `', x, '`\n\n')
compute_prof(x)
}
for (i in 1:nrow(dept)) {
x <- names(dept[i,])
cat('\n\n### `', x, '`\n\n')
cat(compute_prof(x))
}
for (i in 1:nrow(dept)) {
x <- names(dept[i,])
cat('\n\n### `', x, '`\n\n')
cat(
phy_prof <- bu_data %>% filter(tDept == dept) %>% group_by(x) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
)
}
for (i in 1:nrow(dept)) {
x <- names(dept[i,])
cat('\n\n### `', x, '`\n\n')
cat(ggplotly(compute_prof(x)))
}
for (i in 1:nrow(dept)) {
x <- names(dept[i,])
cat('\n\n### `', x, '`\n\n')
ggplotly(compute_prof(x))
}
x <- names(dept[5,])
x
dept(5,)
dept[5,]
names(dept[5,])
x
x[[1]]
for (i in 1:nrow(dept)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n### `', x, '`\n\n')
ggplotly(compute_prof(x))
}
for (i in 1:nrow(dept)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
ggplotly(compute_prof(x))
}
compute_prof <- function(dept) {
phy_prof <- bu_data %>% filter(tDept == dept) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
#  result <- ggplotly(phy_prof)
assign("ggp", plotly::ggplotly(phy_prof), envir=parent.frame())
dept    # NOT returning a plot
#return(phy_prof)
}
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in 1:nrow(dept)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
compute_prof(x)
}
for (i in 1:nrow(dept)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
print(compute_prof(x))
}
compute_prof <- function(dept) {
phy_prof <- bu_data %>% filter(tDept == dept) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
result <- ggplotly(phy_prof)
#assign("ggp", plotly::ggplotly(phy_prof), envir=parent.frame())
#dept    # NOT returning a plot
return(phy_prof)
}
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in 1:nrow(dept)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
print(compute_prof(x))
}
compute_prof <- function(dept) {
phy_prof <- bu_data %>% filter(tDept == dept) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
result <- ggplotly(phy_prof)
#assign("ggp", plotly::ggplotly(phy_prof), envir=parent.frame())
#dept    # NOT returning a plot
return(result)
}
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in 1:nrow(dept)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
print(compute_prof(x))
}
for (i in 1:nrow(dept)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- phy_prof <- bu_data %>% filter(tDept == dept) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
htmlwidgets::saveWidget( plotly::ggplotly(gg), "temp.html")
print( htmltools::tags$iframe(src="temp.html", width=640, height=480) )
}
for (i in 1:nrow(dept)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- phy_prof <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
htmlwidgets::saveWidget( plotly::ggplotly(gg), "temp.html")
print( htmltools::tags$iframe(src="temp.html", width=640, height=480) )
}
for (i in 1:nrow(dept)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
htmlwidgets::saveWidget( plotly::ggplotly(gg), "temp.html")
print( htmltools::tags$iframe(src="temp.html", width=840, height=480) )
}
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
htmlwidgets::saveWidget( plotly::ggplotly(gg), "temp.html")
print( htmltools::tags$iframe(src="temp.html", width=840, height=480) )
}
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
htmlwidgets::saveWidget( plotly::ggplotly(gg), "temp.html")
print( htmltools::tags$iframe(src="temp.html", width=1040, height=480) )
}
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
htmlwidgets::saveWidget( plotly::ggplotly(gg), "temp.html")
print( htmltools::tags$iframe(src="temp.html", width=1040, height=480) )
}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plotly)
bu_data <- read_csv("data/bu.csv", guess_max = 1001)#, col_types = cols(level_difficulty = col_integer()))
#bu_data <- read.csv("data/bu.csv", col_types = cols_only(prof_name = col_character(), school = col_character(), course_name = col_character(), rate_prof = col_double(), level_difficulty = col_double(), take_again = col_character(), attendence = col_character(), comments = col_character(), hw_level = col_integer()))
compute_prof <- function(dept) {
phy_prof <- bu_data %>% filter(tDept == dept) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
result <- ggplotly(phy_prof)
#assign("ggp", plotly::ggplotly(phy_prof), envir=parent.frame())
#dept    # NOT returning a plot
return(result)
}
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
htmlwidgets::saveWidget( plotly::ggplotly(gg), "temp.html")
print( htmltools::tags$iframe(src="temp.html", width=1040, height=480) )
}
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
htmlwidgets::saveWidget( plotly::ggplotly(gg), "temp.html")
print( htmltools::tags$iframe(src="temp.html", width=1040, height=680) )
}
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
assign("ggp", plotly::ggplotly(gg), envir=parent.frame())
ggp
}
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
assign("ggp", plotly::ggplotly(gg), envir=parent.frame())
cat(ggp)
}
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
assign("ggp", plotly::ggplotly(gg), envir=parent.frame())
ggp
}
plotlist = list()
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
plotlist[[VAR]] = ggplotly(p)
}
plotlist = list()
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
plotlist[[i]] = ggplotly(p)
}
htmltools::tagList(setNames(plotlist, NULL))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
htmlwidgets::saveWidget( plotly::ggplotly(gg), "temp.html")
print( htmltools::tags$iframe(src="temp.html", width=1040, height=680) )
}
#htmltools::tagList(plot_ly(x = rnorm(10), type = "histogram"))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor") %>% plot_ly(x = avg_rating, y = avg_diff, color = prof_name)
print(htmltools::tagList(gg))
cat("\n\n")
}
compute_prof <- function(dept) {
phy_prof <- bu_data %>% filter(tDept == dept) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor")
result <- ggplotly(phy_prof)
#assign("ggp", plotly::ggplotly(phy_prof), envir=parent.frame())
#dept    # NOT returning a plot
return(result)
}
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
#htmltools::tagList(plot_ly(x = rnorm(10), type = "histogram"))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% ggplot(aes(x=avg_rating, y=avg_diff, color=prof_name)) + geom_point() + labs(y = "average difficulty", x = "average rating")  + scale_colour_discrete("professor") %>% plot_ly(x = avg_rating, y = avg_diff, color = prof_name)
print(htmltools::tagList(gg))
cat("\n\n")
}
#htmltools::tagList(plot_ly(x = rnorm(10), type = "histogram"))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = avg_rating, y = avg_diff, color = prof_name)
print(htmltools::tagList(gg))
cat("\n\n")
}
#htmltools::tagList(plot_ly(x = rnorm(10), type = "histogram"))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = prof_name)
print(htmltools::tagList(gg))
cat("\n\n")
}
#htmltools::tagList(plot_ly(x = rnorm(10), type = "histogram"))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
print(htmltools::tagList(gg))
cat("\n\n")
}
#htmltools::tagList(plot_ly(x = rnorm(10), type = "histogram"))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name) %>% layout(xaxis = "average difficulty", yaxis = "average rating")
print(htmltools::tagList(gg))
cat("\n\n")
}
#htmltools::tagList(plot_ly(x = rnorm(10), type = "histogram"))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name) %>% layout("average difficulty" = x, "average rating" = y)
print(htmltools::tagList(gg))
cat("\n\n")
}
#htmltools::tagList(plot_ly(x = rnorm(10), type = "histogram"))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average difficulty"), yaxis = list (title = "average rating"))
print(htmltools::tagList(gg))
cat("\n\n")
}
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average difficulty"), yaxis = list (title = "average rating"))
print(htmltools::tagList(gg))
cat("\n\n")
}
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average difficulty"), yaxis = list (title = "average rating"))
print(htmltools::tagList(gg))
cat("\n\n")
}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plotly)
bu_data <- read_csv("data/bu.csv", guess_max = 1001)#, col_types = cols(level_difficulty = col_integer()))
#bu_data <- read.csv("data/bu.csv", col_types = cols_only(prof_name = col_character(), school = col_character(), course_name = col_character(), rate_prof = col_double(), level_difficulty = col_double(), take_again = col_character(), attendence = col_character(), comments = col_character(), hw_level = col_integer()))
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average difficulty"), yaxis = list (title = "average rating"))
print(htmltools::tagList(gg))
cat("\n\n")
}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plotly)
bu_data <- read_csv("data/bu.csv", guess_max = 1001)#, col_types = cols(level_difficulty = col_integer()))
#bu_data <- read.csv("data/bu.csv", col_types = cols_only(prof_name = col_character(), school = col_character(), course_name = col_character(), rate_prof = col_double(), level_difficulty = col_double(), take_again = col_character(), attendence = col_character(), comments = col_character(), hw_level = col_integer()))
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in 1:(nrow(dept)-65)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average difficulty"), yaxis = list (title = "average rating"))
print(htmltools::tagList(gg))
cat("\n\n")
}
#bu_data %>% ggplot(aes(x=hw_level)) + geom_bar(width=0.7)
p <- bu_data %>% filter(tDept =="Computer Science department") %>% filter(str_detect(course_name, "CS")) %>% group_by(course_name) %>% summarise(avg_diff = mean(level_difficulty), avg_hw = mean(hw_level)) %>% ggplot(aes(y=avg_diff, x=avg_hw, color = course_name)) + geom_point() + labs(y = "average difficulty", x = "average hw level")  + scale_colour_discrete("courses")
ggplotly(p)
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average raing"), yaxis = list (title = "average difficulty"))
print(htmltools::tagList(gg))
cat("\n\n")
}
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average raing"), yaxis = list (title = "average difficulty"))
print(htmltools::tagList(gg))
cat("\n\n")
}
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(course_name) %>% summarise(avg_diff = mean(level_difficulty), avg_hw = mean(hw_level)) %>% scale_colour_discrete("courses") %>% plot_ly(x = ~avg_hw, y = ~avg_diff, color = ~course_name)
gg <- gg %>% layout(xaxis = list(title = "average homework lvl"), yaxis = list (title = "average difficulty"))
print(htmltools::tagList(gg))
cat("\n\n")
}
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(course_name) %>% summarise(avg_diff = mean(level_difficulty), avg_hw = mean(hw_level)) %>% plot_ly(x = ~avg_hw, y = ~avg_diff, color = ~course_name)
gg <- gg %>% layout(xaxis = list(title = "average homework lvl"), yaxis = list (title = "average difficulty"))
print(htmltools::tagList(gg))
cat("\n\n")
}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plotly)
bu_data <- read_csv("data/bu.csv", guess_max = 1001)
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average raing"), yaxis = list (title = "average difficulty"))
print(htmltools::tagList(gg))
cat("\n\n")
}
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(course_name) %>% summarise(avg_diff = mean(level_difficulty), avg_hw = mean(hw_level)) %>% plot_ly(x = ~avg_hw, y = ~avg_diff, color = ~course_name)
gg <- gg %>% layout(xaxis = list(title = "average homework lvl"), yaxis = list (title = "average difficulty"))
print(htmltools::tagList(gg))
cat("\n\n")
}
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x ,'`\n\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average raing"), yaxis = list (title = "average difficulty"))
print(htmltools::tagList(gg))
cat("\n\n")
}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plotly)
bu_data <- read_csv("data/bu.csv", guess_max = 1001)
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x ,'`\n\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average raing"), yaxis = list (title = "average difficulty"))
print(htmltools::tagList(gg))
cat("\n\n")
}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(plotly)
bu_data <- read_csv("data/bu.csv", guess_max = 1001)#, col_types = cols(level_difficulty = col_integer()))
#bu_data <- read.csv("data/bu.csv", col_types = cols_only(prof_name = col_character(), school = col_character(), course_name = col_character(), rate_prof = col_double(), level_difficulty = col_double(), take_again = col_character(), attendence = col_character(), comments = col_character(), hw_level = col_integer()))
dept <- bu_data %>% distinct(tDept) %>% filter(!is.na(tDept))
for (i in 1:(nrow(dept)-67)) {
x <- dept[i,]
x <- x[[1]]
cat('\n\n## `', x, '`\n\n')
gg <- bu_data %>% filter(tDept == x) %>% group_by(prof_name) %>% summarise(avg_rating=mean(rate_prof), avg_diff = mean(level_difficulty)) %>% plot_ly(x = ~avg_rating, y = ~avg_diff, color = ~prof_name)
gg <- gg %>% layout(xaxis = list(title = "average raing"), yaxis = list (title = "average difficulty"))
print(htmltools::tagList(gg))
cat("\n\n")
}
